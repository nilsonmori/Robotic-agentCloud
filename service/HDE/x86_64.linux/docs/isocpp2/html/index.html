<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>OpenSplice ISO C++ 2 DCPS: ISO/IEC C++ DCPS API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="PROJECT_LOGO_OpenSplice.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenSplice ISO C++ 2 DCPS
   &#160;<span id="projectnumber">v6.x</span>
   </div>
   <div id="projectbrief">ISO C++ 2 OpenSplice Data Distribution Service Data-Centric Publish-Subscribe API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ISO/IEC C++ DCPS API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#mainpage_gettingstarted">Getting started                                                                </a><ul><li class="level2"><a href="#mainpage_howtouse">How to use ISO C++ classes                                                      </a></li>
</ul>
</li>
<li class="level1"><a href="#mainpage_api">API documentation                                                               </a></li>
<li class="level1"><a href="#mainpage_build">Platform requirements & re-building                                             </a><ul><li class="level2"><a href="#mainpage_gcc">GCC requirements                                                                </a></li>
<li class="level2"><a href="#mainpage_vs">Visual Studio requirements                                                      </a></li>
<li class="level2"><a href="#mainpage_rebuild">Rebuilding                                                                      </a></li>
</ul>
</li>
<li class="level1"><a href="#mainpage_objects">Regarding objects                                                               </a></li>
</ul>
</div>
<div class="textblock"><p>ISO C++ is the latest DDS DCPS API for the C++ Language. It is more user friendly and simpler to use than the 'classic' C++ API.</p>
<p>This is the second version of the ISOC++ Specification that has been implemented.<br/>
 While most things haven't changed between ISOC++ V1 and V2 regarding the API, there are still some differences that should be considered when migrating from V1 to V2. These differences are addressed in the <a href="../../html/isocpp_migration.html">Migration Guide</a>.<br/>
 That <a href="../../html/isocpp_migration.html">Migration Guide</a> also contains the rationale for the second version of ISOC++.</p>
<p>This documentation serves to provide a reference guide and a basic introduction to the ISO C++ API. Due to the way that ISO C++ is implemented using delegates, the API reference is not a 1:1 representation of the implementation structure of the API, it is however a representation of the user accessible layer of the API.</p>
<h1><a class="anchor" id="mainpage_gettingstarted"></a>
Getting started                                                                </h1>
<p>See the <a href="../../pdf/OpenSplice_DDSTutorial.pdf">DDS Tutorial (pdf)</a> for more information about the DDS specification and usage, which is a good starting point if you don't know much about DDS yet.</p>
<p>If you are new to ISO C++ we would recommend that you start by looking at the example code provided in your OpenSplice installation directory as well as the documentation in the sections below.</p>
<p>A summary of each example, along with build instructions can be found on the <a class="el" href="a00001.html">Examples</a> page.</p>
<p>The OMG ISO C++ specification also gives an overview of the general design of ISO C++ and can be found at the following link: <a href="http://www.omg.org/spec/DDS-PSM-Cxx/">http://www.omg.org/spec/DDS-PSM-Cxx/</a></p>
<h2><a class="anchor" id="mainpage_howtouse"></a>
How to use ISO C++ classes                                                      </h2>
<p>ISO C++ was designed in such a way that all memory management is handled automatically for you. Class instances should be created on the stack rather than the heap and the API itself will handle the allocation and deletion of memory automatically.</p>
<p>There are two main types of class within ISO C++, Value and Entity. All classes within ISO C++ inherit from one of these two classes.</p>
<p>Value classes are the simplest type of class within ISO C++. These are simple classes which are created on the stack and are copied by value. Examples of this type of class include QoS policies such as <a class="el" href="a00108.html">dds::core::policy::Durability</a> and <a class="el" href="a00159.html">dds::core::policy::Liveliness</a> or status conditions such as <a class="el" href="a00160.html">dds::core::status::LivelinessChangedStatus</a>.</p>
<p>Entity classes on the other hand are more advanced but still easy to use. These contain an underlying smart pointer which keeps track of the number of references that exist to that particular instance of the class. Once there are no remaining references to the class instance, any memory used by it is then automatically deleted. This underlying smart pointer brings with it the advantage of low overhead copying of class instances as only the smart pointer needs to be copied. This means that any number of references may point to the same entity class instance.</p>
<p>Below is an example of how a <a class="el" href="a00104.html" title="A DomainParticipant represents the local membership of the application in a Domain.">dds::domain::DomainParticipant</a> can be created and copied, other Entity classes work in the same way. </p>
<pre class="fragment">{
    dds::domain::DomainParticipant dp1(dds::core::null); //dds::core::null creates an uninitialised Entity
    {
        dds::domain::DomainParticipant dp2(0); //Creates a domain participant on domain 0

        dp1 = dp2; //Copies reference to dp2 into dp1, both references now point to the same class instance
    }
    //dp2 is now out of scope but the domain participant is not deleted as dp1 still has a reference to it
}
//dp1 is now out of scope and there are no further references to the domain participant so it is deleted automatically
</pre><p>More ISO C++ code examples can be found on the <a class="el" href="a00003.html">ISO C++ example code snippets</a> page.</p>
<p>More information about the actual objects and scopes can be found <a class="el" href="index.html#mainpage_objects">here</a>.</p>
<h1><a class="anchor" id="mainpage_api"></a>
API documentation                                                               </h1>
<p>The namespaces below contain all of the major functionality of the ISO C++ API:</p>
<ul>
<li><p class="startli"><a class="el" href="a00630.html">dds</a></p>
<ul>
<li><a class="el" href="a00642.html">dds::domain</a><ul>
<li>The <a class="el" href="a00642.html">dds::domain</a> namespace provides facilities for creating a DomainParticipant that establishes a virtual network in which an application and it's entities can operate.</li>
</ul>
</li>
<li><a class="el" href="a00658.html">dds::topic</a><ul>
<li>The <a class="el" href="a00658.html">dds::topic</a> namespace provides facilities for the creation of Topics which can be published or subscribed to, as well as providing more advanced filtering through ContentFilteredTopics.</li>
</ul>
</li>
<li><a class="el" href="a00646.html">dds::pub</a><ul>
<li>The <a class="el" href="a00646.html">dds::pub</a> namespace provides facilities for writing samples based on a Topic.</li>
</ul>
</li>
<li><a class="el" href="a00650.html">dds::sub</a><ul>
<li>The <a class="el" href="a00650.html">dds::sub</a> namespace provides facilities for reading samples based on a Topic, as well as providing the ability to query a read.</li>
</ul>
</li>
<li><a class="el" href="a00631.html">dds::core</a><ul>
<li>The <a class="el" href="a00631.html">dds::core</a> namespace provides core facilities such as QoS policies and the ability to wait on particular conditions using a WaitSet.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="mainpage_build"></a>
Platform requirements &amp; re-building                                             </h1>
<p>The ISO C++ PSM specification requires some modern compiler features. Specifically: the header file <a class="el" href="a00393.html">ref_traits.hpp</a> requires that shared and weak smart pointer types and functions for safe polymorphism be available and are used. The header <a class="el" href="a00386.html">macros.hpp</a> requires the existence of a <em>compile time</em> static assert.</p>
<p>To address these the OpenSplice ISO C++ DCPS API requires any one only of the following:</p>
<ul>
<li>A compiler with C++ 11 support</li>
<li>A compiler with Technical Report 1 (TR1) support</li>
<li>The availability of <a href="http://www.boost.org/" title="Boost">Boost</a>. Headers only are required.</li>
</ul>
<h2><a class="anchor" id="mainpage_gcc"></a>
GCC requirements                                                                </h2>
<p>By default, the ISO C++ DCPS API can, and does, compile against the TR1 templates headers available in g++ since version 4.1. Any distributions built with an older version of GCC will have been compiled against <a href="http://www.boost.org/" title="Boost">Boost</a>.</p>
<p>If you would like to use your own version of <a href="http://www.boost.org/" title="Boost">Boost</a> or the experimental <code>-std=c++0x</code> C++11 support to develop your applications: you should rebuild the ISO C++ library to suit your needs. See <a class="el" href="a00004.html">the rebuilding instructions</a></p>
<h2><a class="anchor" id="mainpage_vs"></a>
Visual Studio requirements                                                      </h2>
<p>The default compilation configuration of Visual Studio distributions depends on the compiler version.</p>
<table class="doxtable">
<tr>
<th>Version </th><th>Default </th><th>Optional</th></tr>
<tr>
<td>Visual Studio 2010 </td><td>C++11 </td><td>TR1 or <a href="http://www.boost.org/" title="Boost">Boost</a> </td></tr>
<tr>
<td>Visual Studio 2008 </td><td>TR1* </td><td><a href="http://www.boost.org/" title="Boost">Boost</a> </td></tr>
<tr>
<td>Visual Studio 2005 </td><td><a href="http://www.boost.org/" title="Boost">Boost</a> </td><td>none </td></tr>
</table>
<ul>
<li>TR1 support was added to Visual Studio 2008 in Feature Pack 1. If this is not installed you should use <a href="http://www.boost.org/" title="Boost">Boost</a> instead.</li>
</ul>
<p>If you wish to change to one of the optional supprted configurations, or would like to switch the API to link Debug or to your own applications version of the VC++ redistributable, then you should see <a class="el" href="a00004.html">the rebuilding instructions</a>.</p>
<h2><a class="anchor" id="mainpage_rebuild"></a>
Rebuilding                                                                      </h2>
<p>See <a class="el" href="a00004.html">ISO C++ API Library Recompilation</a> for instructions.</p>
<h1><a class="anchor" id="mainpage_objects"></a>
Regarding objects                                                               </h1>
<p>The way the code of the specification is set up is not very intuitive, but this is basically what happens:<br/>
 The <a class="el" href="a00256.html" title="A Subscriber is the object responsible for the actual reception of the data resulting from its subscr...">dds::sub::Subscriber</a> is a typedef to the dds::sub::TSubscriber&lt;DELEGATE&gt; template class.<br/>
 The dds::sub::TSubscriber&lt;DELEGATE&gt; is basically just a wrapper to the implementation template class (aka delegate) dds::sub::detail::Subscriber.</p>
<p>So, when you create a <a class="el" href="a00256.html" title="A Subscriber is the object responsible for the actual reception of the data resulting from its subscr...">dds::sub::Subscriber</a>, you create the wrapper dds::sub::TSubscriber&lt;dds::sub::detail::Subscriber&gt; to the implementation class dds::sub::detail::Subscriber.</p>
<p>Type dependent objects have just one more template argument:<br/>
 The <a class="el" href="a00094.html" title="DataReader allows the applicatin to access published sample data.">dds::sub::DataReader</a> is a typedef to the dds::sub::TDataReader&lt;T, DELEGATE&lt;T&gt;&gt; template class.<br/>
 The dds::sub::TDataReader&lt;T, DELEGATE&lt;T&gt;&gt; is the wrapper to the delegate dds::sub::detail::DataReader&lt;T&gt;.<br/>
 Thus <a class="el" href="a00094.html" title="DataReader allows the applicatin to access published sample data.">dds::sub::DataReader</a>&lt;my_type&gt; is a typedef to dds::sub::TDataReader&lt;my_type, dds::sub::detail::DataReader&lt;my_type&gt;&gt; which is an wrapper to class dds::sub::detail::DataReader&lt;my_type&gt;.</p>
<p>The API shields these wrappers and delegates from the user by means of the typedefs. The API documentation depicts how these typedefs should be used, e.g. as normal classes and objects. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
