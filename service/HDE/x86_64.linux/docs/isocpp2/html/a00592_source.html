<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>OpenSplice ISO C++ 2 DCPS: include/dcps/docs/DCPS_QoS_Durability.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="PROJECT_LOGO_OpenSplice.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenSplice ISO C++ 2 DCPS
   &#160;<span id="projectnumber">v6.x</span>
   </div>
   <div id="projectbrief">ISO C++ 2 OpenSplice Data Distribution Service Data-Centric Publish-Subscribe API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00592.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">include/dcps/docs/DCPS_QoS_Durability.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00592.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Durability QoS              {#DCPS_QoS_Durability}</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;==============</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;This QosPolicy controls whether the data should be stored <span class="keywordflow">for</span> late joining readers.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;Attributes</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;----------</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;&lt;table&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        &lt;th&gt;Value&lt;/th&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        &lt;th&gt;Meaning&lt;/th&gt;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        &lt;th&gt;Concerns&lt;/th&gt;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        &lt;th&gt;RxO&lt;/th&gt;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        &lt;th&gt;Changeable&lt;/th&gt;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            A DurabilityQosPolicyKind:&lt;br/&gt;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            kind</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            Specifies the type of durability from VOLATILE_DURABILITY_QOS (<span class="keywordtype">short</span> life) to PERSISTENT_DURABILITY_QOS (<span class="keywordtype">long</span> life).</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        &lt;td rowspan=<span class="stringliteral">&quot;5&quot;</span>&gt;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>,</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span>,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        &lt;td rowspan=<span class="stringliteral">&quot;5&quot;</span>&gt;Yes&lt;/td&gt;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        &lt;td rowspan=<span class="stringliteral">&quot;5&quot;</span>&gt;No&lt;/td&gt;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            VOLATILE</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            The Data Distribution Service does not need to keep</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            any samples of data-instances on</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            behalf of any \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> that is not</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            known by the \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> at the</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            time the <a class="code" href="a00650.html#acb4c61c72e0d47aea594a30ae4d11293">instance</a> is written. In other</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            words the Data Distribution Service will only attempt</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            to provide the data to existing</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            subscribers. This is the <span class="keywordflow">default</span> kind.</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            TRANSIENT_LOCAL</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        Currently behaves identically to the Transient Qos, except <span class="keywordflow">for</span> its RxO properties. The desired behaviour of TransientLocal can be achieved from the Transient Qos with the <span class="keywordflow">default</span> (<span class="keyword">true</span>) setting of the AutodisposeUnregisteredInstances flag on the \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> and the ServiceCleanupDelay <span class="keyword">set</span> to 0 on the durability service. This is because <span class="keywordflow">for</span> TransientLocal, the data should only remain available <span class="keywordflow">for</span> late-joining readers during the lifetime of its source writer, so it is not required to survive after its source writer has been deleted. Since the deletion of a writer implicitly unregisters all its instances, an AutodisposeUnregisteredInstances <a class="code" href="a00639.html#aec3265c78c301682764e98c346bfd5bb">value</a> of <span class="keyword">true</span> will also dispose the affected data from the durability store, and thus prevent it from remaining available to late joining readers.</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;     &lt;tr&gt;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            TRANSIENT</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            Some samples are available to late-joining DataReaders (stored in memory). This means that the late-joining DataReaders are able to <a class="code" href="a00650.html#a53986725bd72eb728eee991ab64ac841">read</a> these previously written samples. The \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> does not necessarily have to exist at the time of writing. Not all samples are stored (depending on QosPolicy \ref DCPS_QoS_History <span class="stringliteral">&quot;History&quot;</span> and QosPolicy \ref DCPS_QoS_ResourceLimits <span class="stringliteral">&quot;ResourceLimits&quot;</span>). The storage does not depend on the \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> and will outlive the DataWriter. This may be used to implement reallocation of applications because the data is saved in the Data Distribution Service (not in the DataWriter). This setting is typically used <span class="keywordflow">for</span> <a class="code" href="a00650.html#adda957dedf2a7b74c01048e79d1491f8">state</a> related information of an application. In <span class="keyword">this</span> <span class="keywordflow">case</span> also the \ref DCPS_QoS_DurabilityService <span class="stringliteral">&quot;DurabilityService&quot;</span> QosPolicy  settings are relevant <span class="keywordflow">for</span> the behaviour of the Data Distribution Service.</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    &lt;tr&gt;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            PERSISTENT</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        &lt;td&gt;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;          The data is stored in permanent storage (e.g. hard disk). This means that the samples are also available after a system restart. The samples not only outlives the DataWriters, but even the Data Distribution Service and the system. This setting is typically used <span class="keywordflow">for</span> attributes and settings <span class="keywordflow">for</span> an application or the system. In <span class="keyword">this</span> <span class="keywordflow">case</span> also the \ref DCPS_QoS_DurabilityService <span class="stringliteral">&quot;DurabilityService&quot;</span> QosPolicy  settings are relevant <span class="keywordflow">for</span> the behaviour of the Data Distribution Service.</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        &lt;/td&gt;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    &lt;/tr&gt;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;&lt;/table&gt;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;The decoupling between \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> and \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> offered by the Publish/Subscribe paradigm allows an application to write data even <span class="keywordflow">if</span> there are no current readers on the network. Moreover, a \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> that joins the network after some data has been written could potentially be interested in accessing the most current values of the data as well as potentially some history.</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;This QoS policy controls whether the Data Distribution Service will actually make data available to late-joining readers. Note that although related, <span class="keyword">this</span> does not strictly control what data the Service will maintain internally. That is, the Data Distribution Service may choose to maintain some data <span class="keywordflow">for</span> its own purposes (e.g., flow control) and yet not make it available to late-joining readers <span class="keywordflow">if</span> the DURABILITY QoS policy is <span class="keyword">set</span> to VOLATILE.</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;The <a class="code" href="a00639.html#aec3265c78c301682764e98c346bfd5bb">value</a> offered is considered compatible with the <a class="code" href="a00639.html#aec3265c78c301682764e98c346bfd5bb">value</a> requested <span class="keywordflow">if</span> and only <span class="keywordflow">if</span> the inequality “offered kind &gt;= requested kind evaluates to ‘TRUE.’ For the purposes of <span class="keyword">this</span> inequality, the values of DURABILITY kind are considered ordered such that VOLATILE &lt; TRANSIENT_LOCAL &lt; TRANSIENT &lt; PERSISTENT.</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;For the purpose of implementing the DURABILITY QoS kind TRANSIENT or PERSISTENT, the service behaves “as if” <span class="keywordflow">for each</span> \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> that has TRANSIENT or PERSISTENT DURABILITY kind there was a corresponding “built-in” \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> and \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> configured to have the same DURABILITY kind.</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;In other words, it is “as if” somewhere in the system (possibly on a remote node) there was a “built-in durability \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span>” that subscribed to that \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> and a “built-in durability \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span>” that published that \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> as needed <span class="keywordflow">for</span> the <span class="keyword">new</span> subscribers that join the system.</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;For each \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>, the built-in fictitious “persistence service” \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> and \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> has its QoS configured from the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> QoS of the corresponding \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>. In other words, it is “as-if” the service first did find_topic to access the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>, and then used the QoS from the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> to configure the fictitious built-in entities.</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;A consequence of <span class="keyword">this</span> model is that the <span class="keyword">transient</span> or persistence serviced can be configured by means of setting the proper QoS on the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>. For a given \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>, the usual request/offered semantics apply to the matching between any \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> in the system that writes the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> and the built-in <span class="keyword">transient</span>/persistent \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> <span class="keywordflow">for</span> that \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>; similarly <span class="keywordflow">for</span> the built-in <span class="keyword">transient</span>/persistent \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> <span class="keywordflow">for</span> a \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> and any \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> <span class="keywordflow">for</span> the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span>.</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;As a consequence, a \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> that has an incompatible QoS with respect to what the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> specified will not send its data to the <span class="keyword">transient</span>/persistent service, and a \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span> that has an incompatible QoS with respect to the specified in the \ref DCPS_Modules_TopicDefinition <span class="stringliteral">&quot;Topic&quot;</span> will not <span class="keyword">get</span> data from it. Incompatibilities between local \ref DCPS_Modules_Subscription_DataReader <span class="stringliteral">&quot;DataReader&quot;</span>/\ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> entities and the corresponding fictitious “built-in <span class="keyword">transient</span>/persistent entities” cause the REQUESTED_INCOMPATIBLE_QOS/OFFERED_INCOMPATIBLE_QOS status to change and the corresponding Listener invocations and/or signalling of Condition and WaitSet objects as they would with non-fictitious entities.</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;The setting of the service_cleanup_delay controls when the TRANSIENT or PERSISTENT service is able to <span class="keyword">remove</span> all information regarding a data-instances. Information on a data-instances is maintained until the following conditions are</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;met:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;-# the <a class="code" href="a00650.html#acb4c61c72e0d47aea594a30ae4d11293">instance</a> has been explicitly disposed (instance_state = NOT_ALIVE_DISPOSED),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;-# and <span class="keywordflow">while</span> in the NOT_ALIVE_DISPOSED <a class="code" href="a00650.html#adda957dedf2a7b74c01048e79d1491f8">state</a> the system detects that there are no more “live” \ref DCPS_Modules_Publication_DataWriter <span class="stringliteral">&quot;DataWriter&quot;</span> entities writing the <a class="code" href="a00650.html#acb4c61c72e0d47aea594a30ae4d11293">instance</a>, that is, all existing writers either unregister the <a class="code" href="a00650.html#acb4c61c72e0d47aea594a30ae4d11293">instance</a> (call unregister) or lose their</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;liveliness,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;-# and a time interval longer that service_cleanup_delay has elapsed since the moment the service detected that the</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;previous two conditions were met.</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;The utility of the service_cleanup_delay is apparent in the situation where an application disposes an instance and it crashes before it has a chance to complete additional tasks related to the disposition. Upon restart the application may ask <span class="keywordflow">for</span> initial data to regain its <a class="code" href="a00650.html#adda957dedf2a7b74c01048e79d1491f8">state</a> and the delay introduced by the service_cleanup_delay will allow the restarted application to receive the information on the disposed instance and complete the interrupted tasks.</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;This QoS plays a role within the scope of \ref DCPS_Eventual_Consistency <span class="stringliteral">&quot;Eventual Consistency&quot;</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00592.html">DCPS_QoS_Durability.md</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
