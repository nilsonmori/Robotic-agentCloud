<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>C99 OpenSplice Data Distribution Service Data-Centric Publish-Subscribe API: Status</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="PROJECT_LOGO_OpenSplice.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">C99 OpenSplice Data Distribution Service Data-Centric Publish-Subscribe API
   &#160;<span id="projectnumber">v6.x</span>
   </div>
   <div id="projectbrief">C99 OpenSplice Data Distribution Service Data-Centric Publish-Subscribe API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00008.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Status </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="InfrastructureModule_Status_UML.png" alt="InfrastructureModule_Status_UML.png"/>
<div class="caption">
Status</div></div>
<p> The communication statuses whose changes can be communicated to the application depend on the Entity. The following table shows for each entity the statuses that are relevant.</p>
<table class="doxtable">
<tr>
<th>Entity </th><th>Status Name </th><th>Meaning  </th></tr>
<tr>
<td>Topic </td><td><a class="el" href="a00047.html">INCONSISTENT_TOPIC</a> </td><td>Another topic exists with the same name but different characteristics.  </td></tr>
<tr>
<td>Subscriber </td><td>DATA_ON_READERS </td><td>New information is available.  </td></tr>
<tr>
<td rowspan="7">DataReader </td><td><a class="el" href="a00056.html">SAMPLE_REJECTED</a> </td><td>A received sample has been rejected  </td></tr>
<tr>
<td><a class="el" href="a00048.html">LIVELINESS_CHANGED</a> </td><td>The liveliness of one or more <b>DataWriter</b> that were writing instances read through the <b>DataReader</b> has changed. Some <b>DataWriter</b> have become “active” or “inactive.”  </td></tr>
<tr>
<td><a class="el" href="a00053.html">REQUESTED_DEADLINE_MISSED</a> </td><td>The deadline that the <b>DataReader</b> was expecting through its QoSPolicy DEADLINE was not respected for a specific instance.   </td></tr>
<tr>
<td><a class="el" href="a00054.html">REQUESTED_INCOMPATIBLE_QOS</a> </td><td>A QosPolicy value was incompatible with what is offered.  </td></tr>
<tr>
<td>DATA_AVAILABLE </td><td>New information is available.  </td></tr>
<tr>
<td><a class="el" href="a00055.html">SAMPLE_LOST</a> </td><td>A sample has been lost (never received).  </td></tr>
<tr>
<td><a class="el" href="a00057.html">SUBSCRIPTION_MATCHED</a> </td><td>The <b>DataReader</b> has found a <b>DataWriter</b> that matches the Topic and has compatible QoS, or has ceased to be matched with a <b>DataWriter</b> that was previously considered to be matched.   </td></tr>
<tr>
<td rowspan="5">DataWriter </td><td><a class="el" href="a00049.html">LIVELINESS_LOST</a> </td><td>The liveliness that the <b>DataWriter</b> has committed through its QosPolicy LIVELINESS was not respected; thus <b>DataReader</b> entities will consider the <b>DataWriter</b> as no longer “active.”   </td></tr>
<tr>
<td><a class="el" href="a00050.html">OFFERED_DEADLINE_MISSED</a> </td><td>The deadline that the <b>DataWriter</b> has committed through its QosPolicy DEADLINE was not respected for a specific instance.   </td></tr>
<tr>
<td><a class="el" href="a00051.html">OFFERED_INCOMPATIBLE_QOS</a> </td><td>A QosPolicy value was incompatible with what was requested.   </td></tr>
<tr>
<td><a class="el" href="a00052.html">PUBLICATION_MATCHED</a> </td><td>The <b>DataWriter</b> has found DataReader that matches the Topic and has compatible QoS, or has ceased to be matched with a DataReader that was previously considered to be matched.   </td></tr>
</table>
<p>Those statuses may be classified in:</p>
<ul>
<li>Read communication statuses: i.e., those that are related to arrival of data, namely DATA_ON_READERS and DATA_AVAILABLE.</li>
<li>Plain communication statuses: i.e., all the others. Read communication statuses are treated slightly differently than the others for they don’t change independently. In other words, at least two changes will appear at the same time (DATA_ON_READERS + DATA_AVAILABLE) and even several of the last kind may be part of the set. This ‘grouping’ has to be communicated to the application.</li>
</ul>
<h2>Changes in Status</h2>
<p>Associated with each one of an Entity’s communication status is a logical StatusChangedFlag. This flag indicates whether that particular communication status has changed since the last time the status was ‘read’ by the application. The way the status changes is slightly different for the Plain Communication Status and the Read Communication status.</p>
<div class="image">
<img src="InfrastructureModule_Status_CIS_UML.png" alt="InfrastructureModule_Status_CIS_UML.png"/>
<div class="caption">
StatusChangedFlag indicates if status has changed</div></div>
 <h2>Changes in Plain Communication Status</h2>
<p>For the plain communication status, the StatusChangedFlag flag is initially set to FALSE. It becomes TRUE whenever the plain communication status changes and it is reset to FALSE each time the application accesses the plain communication status via the proper get_&lt;plain communication status&gt; operation on the Entity.</p>
<div class="image">
<img src="InfrastructureModule_Status_CIPS_UML.png" alt="InfrastructureModule_Status_CIPS_UML.png"/>
<div class="caption">
Changes in StatusChangedFlag for plain communication status</div></div>
<p> The communication status is also reset to FALSE whenever the associated listener operation is called as the listener implicitly accesses the status which is passed as a parameter to the operation. The fact that the status is reset prior to calling the listener means that if the application calls the get_&lt;plain communication status&gt; from inside the listener it will see the status already reset.</p>
<p>An exception to this rule is when the associated listener is the 'nil' listener. The 'nil' listener is treated as a NO-OP and the act of calling the 'nil' listener does not reset the communication status.</p>
<p>For example, the value of the StatusChangedFlag associated with the REQUESTED_DEADLINE_MISSED status will become TRUE each time new deadline occurs (which increases the total_count field within RequestedDeadlineMissedStatus). The value changes to FALSE when the application accesses the status via the corresponding get_requested_deadline_missed_status method on the proper Entity.</p>
<h2>Changes in Read Communication Status</h2>
<p>For the read communication status, the StatusChangedFlag flag is initially set to FALSE. The StatusChangedFlag becomes TRUE when either a data-sample arrives or else the ViewState, SampleState, or InstanceState of any existing sample changes for any reason other than a call to DataReader::read, DataReader::take or their variants. Specifically any of the following events will cause the StatusChangedFlag to become TRUE:</p>
<ul>
<li>The arrival of new data.</li>
<li>A change in the InstanceState of a contained instance. This can be caused by either:<ul>
<li>The arrival of the notification that an instance has been disposed by:<ul>
<li>the DataWriter that owns it if OWNERSHIP QoS kind=EXCLUSIVE</li>
<li>or by any DataWriter if OWNERSHIP QoS kind=SHARED.</li>
</ul>
</li>
<li>The loss of liveliness of the DataWriter of an instance for which there is no other DataWriter.</li>
<li>The arrival of the notification that an instance has been unregistered by the only DataWriter that is known to be writing the instance.</li>
</ul>
</li>
</ul>
<p>Depending on the kind of StatusChangedFlag, the flag transitions to FALSE again as follows:</p>
<ul>
<li>The DATA_AVAILABLE StatusChangedFlag becomes FALSE when either the corresponding listener operation (on_data_available) is called or the read or take operation (or their variants) is called on the associated DataReader.</li>
<li>The DATA_ON_READERS StatusChangedFlag becomes FALSE when any of the following events occurs:</li>
<li>The corresponding listener operation (on_data_on_readers) is called.</li>
<li>The on_data_available listener operation is called on any DataReader belonging to the Subscriber.</li>
<li>The read or take operation (or their variants) is called on any DataReader belonging to the Subscriber. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00002.html">DCPS Concepts</a></li><li class="navelem"><a class="el" href="a00004.html">DCPS Modules</a></li><li class="navelem"><a class="el" href="a00006.html">Infrastructure Module</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
